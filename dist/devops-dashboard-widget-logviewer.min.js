!function(t,e){"use strict";angular.module("DevopsDashboard.widget.logviewer",["adf.provider"]).config(["dashboardProvider",function(t){t.widget("logviewer",{title:"Log Viewer",description:"View Dashboard logs",authorizedGroups:["root9B root9b_all"],templateUrl:"{widgetsPath}/logviewer/src/view.html",edit:{templateUrl:"{widgetsPath}/logviewer/src/edit.html"},controller:"logDataCtrl"})}]).controller("logDataCtrl",["$scope","$timeout","User","DBLogger",function(t,e,a,r){t.smartTableData=[],t.smartTableDataSrc=[],t.smartTablePageSize=10;var s=t.refreshLogs=function(){var e=a.get({},function(){var a=e.uid,s=r.query({uid:a},function(){angular.forEach(s,function(t){t.service=t.log.service,t.command=t.log.command,t.output=JSON.stringify(t.log.data),this.push(t)},t.smartTableDataSrc),$(".selectpicker").selectpicker("refresh")})})};s()}]),angular.module("DevopsDashboard.widget.logviewer").run(["$templateCache",function(t){t.put("{widgetsPath}/logviewer/src/edit.html","<form role=form><div class=form-group></div></form>"),t.put("{widgetsPath}/logviewer/src/view.html",'<div class=row><span class=pull-right style=padding-right:10px;><a title="Refresh logs" ng-click=refreshLogs()><i class="glyphicon glyphicon-refresh"></i></a></span><div class=col-md-12><div class=horizontal-scroll><div class="form-group select-page-size-wrap"><label>Rows per page<select class="form-control selectpicker show-tick" title="Rows per page" selectpicker ng-model=smartTablePageSize ng-options="i for i in [5,10,15,20,25]"></select></label></div><table class=table st-table=smartTableData st-safe-src=smartTableDataSrc><thead><tr class=sortable><th st-sort=updated_at st-sort-default=true>Date</th><th st-sort=service>Service</th><th st-sort=type>Type</th><th st-sort=command>Command</th><th st-sort=output>Output</th></tr><tr><th colspan=5><input st-search class=form-control placeholder="Search ..." type=text></th></tr></thead><tbody><tr ng-repeat="log in smartTableData"><td>{{log.updated_at}}</td><td>{{log.service}}</td><td>{{log.type}}</td><td>{{log.command}}</td><td>{{log.output}}</td></tr></tbody><tfoot><tr><td colspan=5 class=text-center><div st-pagination st-items-by-page=smartTablePageSize st-displayed-pages=5></div></td></tr></tfoot></table></div></div></div>')}])}(window);